# Conveyor Hand Safety Monitor

Система мониторинга соблюдения техники безопасности на производстве:  
автоматически отслеживает, находится ли оператор у конвейера, и ведёт учёт **времени работы** и **времени простоя**.

## Основные возможности

- Детекция рук с помощью **MediaPipe**
- Интерактивная разметка **зоны конвейера** (где должны находиться руки при работе)
- Режим **«Process»** (зелёный): руки в зоне — идёт отсчёт рабочего времени
- Режим **«Pause»** (жёлтый): руки вне зоны — идёт отсчёт времени простоя
- Мгновенное переключение между состояниями (без задержки)
- Автоматическая запись видео с наложением статуса и таймера в `output/work_monitoring.mp4`
- Поддержка видео любого разрешения (автоматическое масштабирование под экран)

## Требования

- Python 3.11+
- Библиотеки: `mediapipe`, `opencv-python`, `numpy`

## Установка

1. Клонируйте репозиторий:
   ```bash
   git clone https://github.com/Marlenka106/conveyor-hand-safety.git
   cd conveyor-hand-safety  

2. Установите зависимости: 
    ```bash
    pip install -r requirements.txt 

## Запуск

Поместите видео с конвейером (например, test.mp4) в папку assets/, затем выполните:  
    ```bash
    python -m src.main --video assets/test.mp4
    ```


## Первый запуск

Если файл **config/conveyor_zones.json** отсутствует, программа автоматически перейдёт в **режим разметки**:

    Используется **кадр с 3-й секунды** видео (чтобы оператор уже был на месте)  
    **Левый клик мыши** — добавить точку полигона зоны конвейера  
    **s** — сохранить зону  
    **q** — выйти без сохранения  
    
    После завершения работы:  
    - Видео с наложенным статусом сохраняется в output/work_monitoring.mp4  
    - В терминале отображается итоговое время работы и паузы  

## Структура проекта  

    conveyor-hand-safety/  
        ├── assets/                      # входное видео  
        ├── config/  
        │   └── conveyor_zones.json     # зона конвейера (полигон)  
        ├── output/                     # результат: видео с мониторингом  
        ├── src/  
        │   ├── main.py                 # точка входа  
        │   └── hand_detector.py         # детекция и отрисовка рук  
        ├── requirements.txt  
        └── README.md  

## Лицензия

Проект создан в учебных целях.
